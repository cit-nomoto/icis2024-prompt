基本設計

＃＃＃
機能設計

No1
機能名：初期メニュー表示
入力：なし
出力：初期メニュー項目
参照データ：なし
機能内容：新規ユーザ登録・ログイン・終了の機能をソフトウェア起動時に表示する
遷移前の機能：なし
処理終了後の遷移：No3新規ユーザ登録　No4ログイン No2 終了

No2
機能名：終了
入力：なし
出力：なし
参照データ：なし
機能内容：ソフトウェアを終了させる処理
遷移前の機能：なし
処理終了後の遷移：なし

No3
機能名：新規ユーザ登録
入力：学籍番号・パスワード・ユーザ区分
出力：登録の成否
参照データ：ユーザ情報
機能内容：新規ユーザを登録する処理
遷移前の機能：No1 初期メニュー
処理終了後の遷移：No1 初期メニュー

No4
機能名：ログイン
入力：学籍番号・パスワード
出力：照会成否、ユーザ区分
参照データ：ユーザ情報
機能内容：ログイン情報をユーザ情報と照会し、登録の有無とユーザ区分を判別する。
照会が成功すれば、ユーザ区分に沿ったメニューに遷移
遷移前の機能：No1 初期メニュー
処理終了後の遷移：No5 学生メニュー、又はNo10管理メニュー

No5
機能名：学生メニュー
入力：なし
出力：なし
参照データ：なし
機能内容：書籍検索・貸出状況更新・ログアウト　の学生ユーザ向け機能を表示する
遷移前の機能：No1　初期メニュー
処理終了後の遷移：No6 書籍検索、No7 貸し出し状況更新、No８ログアウト

No6
機能名：書籍検索
入力：書籍名・著者
出力：書籍名・著者・貸出可否・学籍番号
参照データ：書籍情報
機能内容：書籍名・著者　の入力項目をもとに書籍を特定し、詳細情報を取得する処理
各項目には部分一致検索を使用
遷移前の機能：No5 学生メニュー
処理終了後の遷移：No5学生メニュー

No7
機能名：貸出状況更新
入力：書籍名・著者・貸出状況・学籍番号
出力：更新成否
参照データ：書籍情報
機能内容：貸出状況を更新し、学籍番号を上書きする処理
遷移前の機能：No5 学生メニュー
処理終了後の遷移：No5 学生メニュー

No8
機能名：ログアウト
入力：なし
出力：なし
参照データ：なし
機能内容：ユーザをログアウトし、初期メニューへ遷移する処理
遷移前の機能：No5 学生メニュー　または　No9　管理メニュー
処理終了後の遷移：初期メニュー

No9
機能名：管理メニュー
入力：なし
出力：なし
参照データ：なし
機能内容：書籍登録・書籍削除・ユーザ削除・貸出状況一覧・ログアウト　の管理ユーザ向け機能を表示する
遷移前の機能：No1　初期メニュー
処理終了後の遷移：No10 書籍登録　No11 貸出状況一覧　No12 書籍削除 No13 ユーザ削除 No8 ログアウト

No10
機能名：書籍情報登録
入力：書籍名・著者
出力：登録成否
参照データ：書籍情報
機能内容：書籍を新規登録する処理。学籍番号の初期値は空欄、貸出状況の初期値は可とする
遷移前の機能：No9 管理メニュー
処理終了後の遷移：No10 管理メニュー

No11
機能名：貸出状況一覧
入力：なし
出力：書籍名・著者・学籍番号
参照データ：書籍情報
機能内容：貸出可否が、否となっている書籍を一覧で表示する
遷移前の機能：No10 管理メニュー
処理終了後の遷移：No10 管理メニュー

No12
機能名：書籍削除
入力：書籍名
出力：なし
参照データ：書籍情報
機能内容：入力に完全一致する書籍を削除する
遷移前の機能：No10 管理メニュー
処理終了後の遷移：No10　管理メニュー

No13
機能名：ユーザ削除
入力：学籍番号
出力：なし
参照データ：ユーザ情報
機能内容：入力に完全一致する学籍番号のユーザの情報を削除する
遷移前の機能：No10 管理メニュー
処理終了後の遷移：No10　管理メニュー

######

論理データ設計

テーブル構成
ユーザ情報（users）

学籍番号（student_id）：ユーザを一意に識別するID。整数型。
氏名（name）：ユーザの氏名。テキスト型。
ユーザタイプ（user_type）：ユーザのカテゴリを示す。整数型で、0は学生、1は教員を示す。


書籍情報（books）

書籍名（book_name）：書籍の名前。テキスト型。
著者名（author）：書籍の著者。テキスト型。
貸出状況（loan_status）：現在の貸出状況。整数型で、0は貸出可、1は貸出不可を示す。
貸出ユーザ（loaned_user）：書籍を借りているユーザの学籍番号。整数型（ユーザが存在しない場合はNULL）。

概要

ユーザ情報テーブルでは、学籍番号、氏名、ユーザタイプの3つのフィールドでユーザを管理します。学籍番号は一意の識別子として機能し、すべてのユーザはこの番号によって区別される。

書籍情報テーブルでは、書籍名、著者名、貸出状況、貸出ユーザの4つのフィールドを使用して書籍を管理する。書籍名と著者名は書籍を識別するための基本情報であり、貸出状況は書籍が現在貸出可能か否かを示す。貸出ユーザはその書籍を借りているユーザの学籍番号で、書籍が貸出中の場合のみ設定される。

＃＃＃＃
エラーメッセージ一覧

画面名：学生メニュー画面、管理メニュー画面
状況：選択肢に無い番号、数字以外を入力：
メッセージ：不正な入力です。もう一度選択してください。

画面名：ログイン、新規ユーザ登録、書籍検索、貸出状況更新、書籍情報登録、書籍削除、ユーザ削除
状況：未入力、適切でない型の入力
メッセージ：入力に不備があります